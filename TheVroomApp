import SwiftUI

struct Vehicle: Identifiable {
    let id = UUID()
    var make: String
    var model: String
    var year: Int
    var price: Double
    var image: UIImage?
    var location: String
}

struct Bid: Identifiable {
    let id = UUID()
    var amount: Double
    var vehicle: Vehicle
}

struct TestDrive: Identifiable {
    let id = UUID()
    var vehicle: Vehicle
    var date: Date
    var location: String
}

struct ContentView: View {
    @State var vehicles: [Vehicle] = [
        Vehicle(make: "Mercedes-Benz", model: "S-Class", year: 2022, price: 100000, image: UIImage(named: "mercedes1"), location: "New York"),
        Vehicle(make: "BMW", model: "7 Series", year: 2022, price: 90000, image: UIImage(named: "bmw1"), location: "Los Angeles"),
        Vehicle(make: "Audi", model: "A8", year: 2022, price: 85000, image: UIImage(named: "audi1"), location: "Chicago"),
        Vehicle(make: "Lexus", model: "LS", year: 2022, price: 80000, image: UIImage(named: "lexus1"), location: "Houston"),
    ]
    
    @State var bids: [Bid] = [
        Bid(amount: 95000, vehicle: Vehicle(make: "Mercedes-Benz", model: "S-Class", year: 2022, price: 100000, image: UIImage(named: "mercedes1"), location: "New York")),
        Bid(amount: 87000, vehicle: Vehicle(make: "BMW", model: "7 Series", year: 2022, price: 90000, image: UIImage(named: "bmw1"), location: "Los Angeles")),
    ]
    
    @State var testDrives: [TestDrive] = [
        TestDrive(vehicle: Vehicle(make: "Audi", model: "A8", year: 2022, price: 85000, image: UIImage(named: "audi1"), location: "Chicago"), date: Date(), location: "Chicago"),
        TestDrive(vehicle: Vehicle(make: "Lexus", model: "LS", year: 2022, price: 80000, image: UIImage(named: "lexus1"), location: "Houston"), date: Date(), location: "Houston"),
    ]
    
    @State var showAddVehicleSheet = false
    @State var showBidSheet = false
    @State var showTestDriveSheet = false
    
    var body: some View {
        NavigationView {
            List {
                Section(header: Text("Vehicles")) {
                    ForEach(vehicles) { vehicle in
                        VehicleRowView(vehicle: vehicle)
                    }
                    .onDelete(perform: deleteVehicle)
                }
                Section(header: Text("Bids")) {
                    ForEach(bids) { bid in
                        BidRowView(bid: bid)
                    }
                    .onDelete(perform: deleteBid)
                }
                Section(header: Text("Test Drives")) {
                    ForEach(testDrives) { testDrive in
                        TestDriveRowView(testDrive: testDrive)
                    }
                    .onDelete(perform: deleteTestDrive)
                }
            }
            .navigationTitle("Luxury Vehicles")
            .navigationBarItems(
                leading: Button(action:
